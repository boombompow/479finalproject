<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><!-- InstanceBegin template="/Templates/helpdesk_base_template.dwt" codeOutsideHTMLIsLocked="false" -->
<head>
<!-- InstanceBeginEditable name="doctitle" -->
<title>AITS Helpdesk: Data - ENCS Snapshot</title>
<!-- InstanceEndEditable -->
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="Description" content="AITS, Montreal, Canada">
<meta name="keywords" content="AITS, Academic Information Technology Services, Concordia university, Canada, Montreal, ">
<link href="http://www.encs.concordia.ca/Assets/stylesheets/encs.css" rel="stylesheet" type="text/css">
<link href="http://www.encs.concordia.ca/helpdesk/helpdesk.css" rel="stylesheet" type="text/css">
<script language="JavaScript" type="text/JavaScript">
<!--

function MM_findObj(n, d) { //v4.01
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document);
  if(!x && d.getElementById) x=d.getElementById(n); return x;
}

function MM_reloadPage(init) {  //reloads the window if Nav4 resized
  if (init==true) with (navigator) {if ((appName=="Netscape")&&(parseInt(appVersion)==4)) {
    document.MM_pgW=innerWidth; document.MM_pgH=innerHeight; onresize=MM_reloadPage; }}
  else if (innerWidth!=document.MM_pgW || innerHeight!=document.MM_pgH) location.reload();
}
MM_reloadPage(true);

function MM_swapImgRestore() { //v3.0
  var i,x,a=document.MM_sr; for(i=0;a&&i<a.length&&(x=a[i])&&x.oSrc;i++) x.src=x.oSrc;
}

function MM_swapImage() { //v3.0
  var i,j=0,x,a=MM_swapImage.arguments; document.MM_sr=new Array; for(i=0;i<(a.length-2);i+=3)
   if ((x=MM_findObj(a[i]))!=null){document.MM_sr[j++]=x; if(!x.oSrc) x.oSrc=x.src; x.src=a[i+2];}
}
//-->
</script>
<!-- InstanceBeginEditable name="head" --><!-- InstanceEndEditable -->
</head>
<body leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" >
<center>
  <table width="100%" border="0" cellpadding="0" cellspacing="0">
    <tr>
      <td height="21" align="center" bgcolor="#bdb76b"><table cellpadding="0" cellspacing="0" border="0">
          <tr bordercolor="#999999">
            <td width="114"><a href="http://www.encs.concordia.ca/index.htm" onmouseover="MM_swapImage('Image1','','/Assets/images/home2.gif',1)" onmouseout="MM_swapImgRestore()"><img src="http://www.encs.concordia.ca/Assets/images/home1.gif" alt="ENCS Home" name="Image1" width="114" height="21" border="0" id="Image1"></a></td>
            <td width="114"><a href="http://www.encs.concordia.ca/Administration/administration.htm" onmouseover="MM_swapImage('Image9','','/Assets/images/Adminstration2.gif',1)" onmouseout="MM_swapImgRestore()"><img src="http://www.encs.concordia.ca/Assets/images/Adminstration1.gif" alt="Administration" name="Image9" width="114" height="21" border="0" id="Image9"></a></td>
            <td width="114"><a href="http://www.encs.concordia.ca/Alumni" onmouseover="MM_swapImage('Image10','','/Assets/images/Alumni2.gif',1)" onmouseout="MM_swapImgRestore()"><img src="http://www.encs.concordia.ca/Assets/images/Alumni1.gif" alt="Alumni" name="Image10" width="114" height="21" border="0" id="Image10"></a></td>
            <td width="114"><a href="http://www.encs.concordia.ca/Faculty/Departments.htm" onmouseover="MM_swapImage('Image12','','/Assets/images/Departments2.gif',1)" onmouseout="MM_swapImgRestore()"><img src="http://www.encs.concordia.ca/Assets/images/Departments1.gif" alt="Departments" name="Image12" width="114" height="21" border="0" id="Image12"></a></td>
            <td width="114"><a href="http://www.encs.concordia.ca/Research/Research_Unit.htm" onmouseover="MM_swapImage('Image11','','/Assets/images/research2.gif',1)" onmouseout="MM_swapImgRestore()"><img src="http://www.encs.concordia.ca/Assets/images/research1.gif" alt="Research" name="Image11" width="114" height="21" border="0" id="Image11"></a></td>
            <td width="114"><a href="http://www.encs.concordia.ca/News" onmouseover="MM_swapImage('Image13','','/Assets/images/news2.gif',1)" onmouseout="MM_swapImgRestore()"><img src="http://www.encs.concordia.ca/Assets/images/news1.gif" alt="News & Events" name="Image13" width="114" height="21" border="0" id="Image13"></a></td>
            <td width="114"><a href="http://www.encs.concordia.ca/About_ENCS/Jobs.htm" onmouseover="MM_swapImage('Image2','','/Assets/images/jobs2.gif',1)" onmouseout="MM_swapImgRestore()"><img src="http://www.encs.concordia.ca/Assets/images/jobs1.gif" alt="Jobs" name="Image2" border="0" id="Image2"></a></td>
          </tr>
        </table></td>
    </tr>
  </table>
  <table width="100%" border="0" cellpadding="0" cellspacing="0">
    <TR>
      <TD vAlign=top width="100%" bgColor=#bdb76b><DIV align=center>
          <TABLE cellSpacing=0 cellPadding=0 width="100%" align=center border=0>
            <TR>
              <TD vAlign=top bgColor=#FFFFCC><TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
                  <TR>
                    <TD bgColor=#666666 colSpan=4 height=1><img src="http://www.encs.concordia.ca/Assets/images/dot.gif" height="1"></TD>
                  </TR>
                  <TR>
                    <TD vAlign=top width=240 bgColor=#FFFFCC ><TABLE cellSpacing=0 cellPadding=0 width=120 border=0>
                        <TR>
                          <TD vAlign=top width=200 bgColor=#FFFFCC><img src="http://www.encs.concordia.ca/Assets/images/ENCS-logo07.gif" border="0" usemap="#Map"> 
                        </TR>
                        <tr>
                          <td height="50"><div align="center">
                              <form method="post" action="http://www.encs.concordia.ca/cgi-bin/htsearch">
                                <font size="1"><strong><font color="#666666">Search Helpdesk:</font></strong></font> <font size="1">
                                <input size="12" name="words" value="" type="text">
                                <input name="restrict" value="www.encs.concordia.ca/helpdesk/" type="hidden">
                                <input value="Go" type="submit">
                                </font> <br>
                                <a href="http://www.encs.concordia.ca/helpdesk/search.html" style="font-size: xx-small">Advanced</a>
                              </form>
                            </div></td>
                        </tr>
                        <TR>
                          <TD vAlign=top width=200 bgColor=#FFFFCC><UL type=circle >
                              <BR>
                              <LI><a href="http://www.encs.concordia.ca/aits">AITS Home</A></LI>
                              <LI><a href="http://www.encs.concordia.ca/Faculty/directory/FA/index.html#AITS">AITS Staff Directory</a></LI>
                              <LI><a href="http://www.encs.concordia.ca/encsit/public/top/archive">Announcement Archive</a></LI>
                              <LI><a href="http://www.encs.concordia.ca/encsit/public/top/sitemap.html">Site Map</a></LI>
                            </UL>
                            <TABLE cellSpacing=0 cellPadding=0 width=240 align=center border=0>
                              <TR>
                                <TD width=100% height=1 bgcolor="#999999"></TD>
                              </TR>
                              <TR>
                                <TD width=100% height=1 bgcolor="#999999"></TD>
                              </TR>
                              <TR>
                                <TD noWrap width=100% bgColor=#AEB96F height=23><DIV align=center><FONT color="#000000" 
                              size=2 face=Verdana,Arial><B>Quick links</B></FONT></DIV></TD>
                              </TR>
                              <TR>
                                <TD height="1" bgcolor="#999999"></TD>
                              </TR>
                              <TR>
                                <TD><!-- ##QUICKLINKS## START -->
                                  <ul>
                                    <br>
                                    <li> <a href="https://fis.encs.concordia.ca/helpdesk-cgi/doorcode.cgi">Lab door codes</a> </li>
                                    <li> <a href="https://fis.encs.concordia.ca/helpdesk-cgi/ch-own-pwd.cgi">Change password</a> </li>
                                    <li> <a href="https://fis.encs.concordia.ca/helpdesk-cgi/quota.cgi">Quota Check </a></li>
                                    <li> <a href="https://mail.encs.concordia.ca/">Webmail </a></li>
                                    <li> <a href="https://fis.encs.concordia.ca/eas">Electronic Assignment Submission</a></li>
                                    <li> <a href="https://fis.encs.concordia.ca/fexch/fexch-description.cgi">File Exchange</a> </li>
                                    <li><a href="http://www.encs.concordia.ca/aits/public/desktop/USER_Managed_Desktop/Windows/HowTo/Install_Sophos_Antivirus/Install_Sophos_Antivirus.html">Sophos Anti-Virus</a></li>
                                    <li><a href="http://www.encs.concordia.ca/helpdesk/access/lab_operation_hours.html">Lab Operation Hours</a></li>
                                    <li><a href="http://www.encs.concordia.ca/aits/public/top/courseSupport.html">Course Support</a></li>
                                    <li><a href="http://www.encs.concordia.ca/aits/software/">Available Softwares </a></li>
                                    <br>
                                  </ul>
                                  <!-- ##QUICKLINKS## END -->
                                </TD>
                              </TR>
                              <TR>
                                <TD width=100% height=1 bgcolor="#999999"></TD>
                              </TR>
                              <TR>
                                <TD noWrap width=100% bgColor=#AEB96F height=23><DIV align=center><FONT color="#000000" 
                              size=1 face=Verdana,Arial><B>Contact the Helpdesk</B></FONT></DIV></TD>
                              </TR>
                              <TR>
                                <TD width="100%" height="1" bgcolor="#999999"></TD>
                              </TR>
                              <TR>
                                <TD width="100%"><table width="220" border="0" align="center">
                                    <tr>
                                      <td><div align="center"> <br>
                                          <strong>Faculty</strong><br>
										  
										  Room: EV 7-182<br>
                                          Phone: 5713<br>
                                                                                   <a href="mailto:facultyhelp@encs.concordia.ca">facultyhelp@encs.concordia.ca</a><br>
                                          <br>
                                          <strong>Student</strong><br>
										  
										  Room: H - 960<br>
                                          Phone: 4181<br>
                                          <a href="mailto:helpdesk@encs.concordia.ca">helpdesk@encs.concordia.ca</a> </div></td>
                                    </tr>
                                  </table></TD>
                              </TR>
                            </TABLE></TD>
                        </TR>
                      </TABLE></TD>
                    <TD vAlign=top width=1 bgColor=#999999 height="100%"><img src="http://www.encs.concordia.ca/Assets/images/dot.gif" width="1"></TD>
                    <TD vAlign=top height="100%"><TABLE width="100%" height="100%" border=0 cellPadding=0 cellSpacing=0 bgcolor="#FFFFCC">
                        <TR>
                          <TD vAlign=top colspan=2><div align="center"><img src="http://www.encs.concordia.ca/encsit/public/top/Assets/images/AITS-header.jpg"></div>
                            <a href="http://www.encs.concordia.ca/helpdesk" style="text-decoration: none">
                            <div style="color: #aeb96f; text-align: center; font-size: 200%; font-weight: 700;">HELPDESK</div>
                            </a> </TD>
                        </TR>
                        <TR>
                          <td height="100%"></TD>
                          <TD class=body  align="left" vAlign=top><TABLE cellSpacing=1 cellPadding=0 width="100%" border=0>
                              <TR>
                                <TD class=content vAlign=top><font size="2"> </font>
                                  <div align="center"> </div>
                                  <!-- add align=center change width from 100% to 90% -->
                                  <TABLE cellSpacing=2 cellPadding=3 width="90%" align=center border=0>
                                    <TR>
                                      <TD class=body vAlign=top width=114></TD>
                                      <TD class=body></TD>
                                    </TR>
                                    <TR>
                                      <TD colspan="2" vAlign=top class=body><div align="justify"><!-- InstanceBeginEditable name="Insert content of the page here" --> 
                                          <h1 style="text-align: center;">Introduction of ENCS on-line backup system</h1> 
                                          <p>All users of ENCS's computing resources can access on-line backup system, which creates 'snapshots' (read-only copies of your files) at regular intervals. Under Unix, every directory mounted from Netapp has a .snapshot subdirectory with a number of entries. The .snapshot directory doesn't appear in the output of ls unless you specify it explicitly. You can recover files that have been deleted or changed by copying files from the snapshot to your home directory. </p> 
                                          <p> <code>[respect] [/home/u/username] &gt; ls -la .snapshot <br> 
                                            total 3088 <br> 
                                            drwx------ 58 username username 53248 Sep 27 17:03 hourly.0 <br> 
                                            drwx------ 58 username username 53248 Sep 27 17:03 hourly.1 <br> 
                                            .... <br> 
                                            drwx------ 57 username username 53248 Sep 23 17:24 hourly.27 <br> 
                                            drwx------ 57 username username 53248 Sep 23 17:24 nightly.0 <br> 
                                            drwx------ 57 username username 53248 Sep 23 17:24 nightly.1 <br> 
                                            .... <br> 
                                            drwx------ 59 username username 53248 Sep 13 22:21 nightly.11 <br> 
                                            drwx------ 57 username username 53248 Sep 23 17:24 weekly.0 <br> 
                                            drwx------ 58 username username 53248 Sep 17 17:47 weekly.1 <br> 
                                            .... <br> 
                                            drwx------ 59 username username 24576 Jun 6 23:23 weekly.16 <br> 
                                            </code> </p> 
                                          <p>The timestamps you see do not reflect the date and time that the snapshot was made. To see the real schedule of snapshots type <code> cat /mnt/nettemp/snapshot.txt </code> </p> 
                                          <p> <code>[respect] [/home/u/username] &gt; cat /mnt/nettemp/snapshot.txt <br> 
                                            date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name <br> 
                                            --------&nbsp;&nbsp;&nbsp;&nbsp;-------- <br> 
                                            Sep 27 07:00 hourly.0 <br> 
                                            Sep 27 06:00 hourly.1 <br> 
                                            .... <br> 
                                            Sep 26 03:00 hourly.27 <br> 
                                            Sep 26 00:00 nightly.0 <br> 
                                            Sep 25 00:00 nightly.1 <br> 
                                            .... <br> 
                                            Sep 14 00:00 nightly.11 <br> 
                                            Sep 27 00:00 weekly.0 <br> 
                                            Sep 20 00:00 weekly.1 <br> 
                                            .... <br> 
                                            Jun 07 00:00 weekly.16 <br> 
                                            </code> </p> 
                                          <h2>Recover a file</h2> 
                                          <p>You need to know: </p> 
                                          <ul> 
                                            <li> The name of the file.</li> 
                                            <li> where was the file (the path). </li> 
                                          </ul> 
                                          <p>To recover a lost file: </p> 
                                          <ul> 
                                            <li>find all available versions (timestamp) of your lost file in .snapshot subfolder.</li> 
                                            <li>select the proper version of the file to be recovered, and copy it to an appropriate target directory.</li> 
                                          </ul> 
                                          <h3>Recover a file from Windows:</h3> 
                                          <p>AN EXAMPLE: (a file called tempfile.txt was deleted in your unix home directory <code> U:\ </code> ) </p> 
                                          <p ="">To recover a lost file, Here is the procedure: </p> 
                                          <p> <code>1. </code>Double-click on "My Computer" icon on your desktop <br> 
                                          </p> 
                                          <div><img src="http://www.encs.concordia.ca/helpdesk/data/images/snapshot_step1.jpg" alt="Snapshot Figure1" style="width: 624px; height: 400px;"></div> 
                                          <p> <code>2. </code> In the address bar, just type in: U:\.snapshot ( or U:\~snapshot ) </p> 
                                          <p> <code>Note: </code>If the file was saved in your windows home directory, just change the letter <code> U:\ </code> as <code> G:\ </code>. </p> 
                                          <div><img src="http://www.encs.concordia.ca/helpdesk/data/images/snapshot_step2.jpg" alt="Snapshot Figure2" style="width: 624px; height: 400px;"></div> 
                                          <p> <code>3. </code>Click "Search" in the tool bar. </p> 
                                          <div><img src="http://www.encs.concordia.ca/helpdesk/data/images/snapshot_step3.jpg" alt="Snapshot Figure3" style="width: 624px; height: 400px;"></div> 
                                          <p></p> 
                                          <p> <code>4. </code>Click "All files and folders", In the All or part of the file name field, type the name of the file you want to search for: <code> tempfile.txt, </code> then click "Search" button. </p> 
                                          <div><img src="http://www.encs.concordia.ca/helpdesk/data/images/snapshot_step4.jpg" alt="Snapshot Figure4" style="width: 624px; height: 400px;"></div> 
                                          <p> <code>5. </code> Your search results will display on the right side of the Search Results window, select one version of the file to be recovered, and copy it back to your unix home directory U:\. </p> 
                                          <div><img src="http://www.encs.concordia.ca/helpdesk/data/images/snapshot_step5.jpg" alt="Snapshot Figure5" style="width: 624px; height: 400px;"></div> 
                                          <p></p> 
                                          <h3>Recover a file from Linux/Unix:</h3> 
                                          <p>AN EXAMPLE: &nbsp;&nbsp; (a file called tempfile.txt was deleted in your unix home directory /home/u/username) </p> 
                                          <p>To recover a lost file, here is the procedure: </p> 
                                          <p> <code>1. </code>At your UNIX prompt please type: <br> 
                                            <code>ls -la /home/u/username/.snapshot/*/tempfile.txt </code> <br> 
                                            <br> 
                                          </p> 
                                          <p> <span style="color: red;">NOTES:</span> </p> 
                                          <ul> 
                                            <li>If you don't remember which sub directory the file was saved, please type: <br> 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<code> find /home/u/username/.snapshot/*/ -name tempfile.txt -exec ls -la {} \; </code> </li> 
                                            <li> Do not actually type <code>/home/u/username</code>. "u" is the first letter of your username, so for user j_smith:<br> 
                                              <code>ls -la /home/j/j_smith/.snapshot/*/tempfile.txt </code> </li> 
                                          </ul> 
                                          <p>Now you get all available versions of your lost file listed in .snapshot subfolder. <br> 
                                          </p> 
                                          <p> <code>-rwx------ 1 username 22 Jun 28 16:24 /home/u/username/.snapshot/hourly.0/tempfile.txt <br> 
                                            -rwx------ 1 username 22 Jun 28 16:24 /home/u/username/.snapshot/hourly.1/tempfile.txt <br> 
                                            .... <br> 
                                            -rwx------ 1 username 22 Jun 28 16:24 /home/u/username/.snapshot/hourly.27/tempfile.txt <br> 
                                            -rwx------ 1 username 22 Jun 28 16:24 /home/u/username/.snapshot/nightly.0/tempfile.txt <br> 
                                            -rwx------ 1 username 22 Jun 28 16:24 /home/u/username/.snapshot/nightly.1/tempfile.txt <br> 
                                            .... <br> 
                                            -rwx------ 1 username 22 Jun 28 16:24 /home/u/username/.snapshot/nightly.11/tempfile.txt <br> 
                                            -rwx------ 1 username 22 Jun 28 16:24 /home/u/username/.snapshot/weekly.0/tempfile.txt <br> 
                                            -rwx------ 1 username 22 Jun 28 16:24 /home/u/username/.snapshot/weekly.1/tempfile.txt <br> 
                                            .... <br> 
                                            -rw------- 1 username 13 May 18 11:16 /home/l/leonlg/.snapshot/weekly.16/tempfile.txt <br> 
                                            </code> </p> 
                                          <p =""> <code>2. </code>select one version of the file to be recovered, and copy it to an appropriate target directory. <br> 
                                            <code> cp /home/u/username/.snapshot/hourly.0/tempfile.txt /home/u/username/</code></p> 
                                          <!-- InstanceEndEditable --> </div></TD>
                                    </TR>
                                  </TABLE>
                                  <BR>
                                </TD>
                                <TD class=content vAlign=top>&nbsp;</TD>
                              </TR>
                            </TABLE></TD>
                        </TR>
                      </TABLE></TD>
                  </TR>
                </TABLE></TD>
            </TR>
          </TABLE>
          <font color="#FFFFFF" size="1"><strong> If you have any comments about the website please</strong> </font><font size="1"><a href="http://www.encs.concordia.ca/helpdesk/helpdesk.html"><strong>Contact</strong></a></font><font color="#FFFFFF" size="1"> <strong>us</strong></font></DIV></TD>
    </TR>
  </TABLE>
  <div align="right"> <br>
    Copyright &copy; 2005 Faculty of Engineering &amp; Computer Science</div>
  <!--- submenu --->
</center>
<map name="Map">
  <area shape="rect" coords="5,15,235,63" href="../../index.html">
  <area shape="rect" coords="43,67,235,115" href="../../../Documentswww.concordia.ca/">
</map>
</body>
<!-- InstanceEnd --></html>
